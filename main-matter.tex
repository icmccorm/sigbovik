\documentclass[twoside,12pt]{article}
\usepackage{fancyhdr}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\usepackage{minitoc}
\usepackage{pdfpages}
\usepackage{secure-page-numbers}
\usepackage{tocloft} % for special ToC formatting; see gross below

\newcommand{\setfootershift}[1]{\lhead{} \rhead{} \cfoot{\vspace{#1} \colorbox{white}{\ \thepage\ }}}
% USAGE: \addproceedings{intro}
\newcommand{\addproceedings}[1]{
	% Align cryptographic page numbers on their own line in main ToC.
	% Pretty gross, huh? Looks nice tho.
	\cftsetpnumwidth{37em}
	\renewcommand\cftsecleader{\newline\cftdotfill{\cftdotsep}}
	\renewcommand\cftsubsecleader{\newline\cftdotfill{\cftdotsep}}
	\renewcommand\cftsubsubsecleader{\newline\cftdotfill{\cftdotsep}}
	\renewcommand\cftparaleader{\newline\cftdotfill{\cftdotsep}}
	%\renewcommand\cftsecpagefont{\bfseries} % already this way but if you wanna change it
	\renewcommand\cftsubsecpagefont{\itshape}

	\renewcommand{\contentsname}{#1}
	\tableofcontents
	\pagebreak}
% USAGE: \addtrack{number}{name}
\newcommand{\addtrack}[2]{
	\cleardoublepage
	\begin{center}
	#1 \\
	\section*{#2}
	\addcontentsline{toc}{section}{#1: #2}
	\end{center}
	% More grossness to remove page numbers in track ToCs
	% OMG IT FINALLY WORKS SHIP IT
	\renewcommand\cftsecleader{\cftdotfill{\cftnodots}}
	\renewcommand\cftsubsecleader{\cftdotfill{\cftnodots}}
	\renewcommand\cftsubsubsecleader{\cftdotfill{\cftnodots}}
	\renewcommand\cftparaleader{\cftdotfill{\cftnodots}}
	% Pretty much copied from tocloft.sty, only the "#1" is removed.
	\renewcommand{\cftsubsecfillnum}[1]{%
		{\cftsubsecleader}\nobreak
		\makebox[1.5em][\cftpnumalign]{\cftsubsecpagefont}\cftsubsecafterpnum\par}
	\renewcommand{\cftsubsubsecfillnum}[1]{%
		{\cftsubsubsecleader}\nobreak
		\makebox[1.5em][\cftpnumalign]{\cftsubsubsecpagefont}\cftsubsubsecafterpnum\par}
	\renewcommand{\cftparafillnum}[1]{%
		{\cftparaleader}\nobreak
		\makebox[1.5em][\cftpnumalign]{\cftparapagefont}\cftparaafterpnum\par}
	\secttoc}
% USAGE: \addpaper{title}{author}{keywords}{filename}{page number vertical shift}
\newcommand{\addpaper}[6]{
	\setfootershift{#5}
	\rhead{#6}
	\includepdf[pages=-,pagecommand={\thispagestyle{fancy}},addtotoc={1,subsection,1,{#1},{title:#4},1,subsubsection,4,{#2},{author:#4},1,paragraph,4,{Keywords: #3},{keywords:#4}},picturecommand={\rhead{}}]{./papers/#4}}
% USAGE: \addreview{filename}{page number vertical shift}
\newcommand{\addreview}[2]{
	\setfootershift{#2}
	\includepdf[pages=-,pagecommand={\thispagestyle{fancy}}]{./reviews/#1}}

\renewcommand{\headrulewidth}{0pt}
\renewcommand{\stctitle}{}
\renewcommand{\thepage}{\roman{page}}
\renewcommand{\thesection}{}
\renewcommand{\thesubsection}{\arabic{subsection}}

\setcounter{tocdepth}{2}

\mtcsetdepth{secttoc}{4}
\mtcsetpagenumbers{*}{off}
\mtcsetrules{*}{off}
\dosecttoc

\setfootershift{0cm}

\begin{document}
\pagenumbering{shahash}
\includepdf[pagecommand={\thispagestyle{plain}}]{titlepage}
\includepdf[pagecommand={\thispagestyle{plain}}]{copyright-page}
\includepdf[pages=-,pagecommand={\thispagestyle{plain}}]{message-from-committee}

\include{papers}
\end{document}
